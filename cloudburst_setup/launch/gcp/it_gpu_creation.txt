ssh_str=ssh-rsa\ AAAAB3NzaC1yc2EAAAADAQABAAABAQDIi6sHuPqcx4J0pLiXSnLGRSlnILReeaff9gGCm0zKiqHVeZ6RPo2gbYKDBzVgDJcqOftjp/Mcg30YIDX1ei42W2WRHx/ewuK\+09qejjAuo389ySByS6mI/emu2HhdvYMb07nhycdyK45xXYM6wla6hfQIrNccAKfPCWGdlc/FNxW5ffBFrm7AM9yMCXc95XkuRBto1oaySTYEr3FGYw2U8FfRmmnL/U7xI7zKR4OeWRn8KlaQyABybQ8h5a6T6ISjxmUoSL1MIWPlfNuxZ5djEoCIrtuhPeXW5dxlPrJCdSiBHQcAhsqQD1oyCIz60QCj9xJOjdx4ENXqlkFLPBw9\ centos

common_args="--network=projects/exa-demo/global/networks/default --network-tier=PREMIUM --no-restart-on-failure --maintenance-policy=TERMINATE --preemptible --service-account=946319310608-compute@developer.gserviceaccount.com --scopes=https://www.googleapis.com/auth/cloud-platform --tags=http-server --image-project=exa-demo --boot-disk-size=30GB --boot-disk-type=pd-standard --reservation-affinity=any"

#
# Note: Uses the same image as the CPU templates
#

gcloud beta compute --project=exa-demo instance-templates create it-us-v76-k80 --machine-type=n1-highmem-2 --accelerator=type=nvidia-tesla-k80,count=1 \
         "--metadata=ssh-keys=centos:${ssh_str}"  --image=wn-wgpu-v76-us --boot-disk-device-name=it-us-v76-n2 \
         ${common_args}

gcloud beta compute --project=exa-demo instance-templates create it-eu-v76-k80 --machine-type=n1-highmem-2 --accelerator=type=nvidia-tesla-k80,count=1 \
         "--metadata=ssh-keys=centos:${ssh_str}"  --image=wn-wgpu-v76-eu --boot-disk-device-name=it-eu-v76-n2 \
         ${common_args}

gcloud beta compute --project=exa-demo instance-templates create it-ap-v76-k80 --machine-type=n1-highmem-2 --accelerator=type=nvidia-tesla-k80,count=1 \
         "--metadata=ssh-keys=centos:${ssh_str}"  --image=wn-wgpu-v76-ap --boot-disk-device-name=it-ap-v76-n2 \
         ${common_args}

gcloud beta compute --project=exa-demo instance-templates create it-us-v76-p4 --machine-type=n1-highmem-2 --accelerator=type=nvidia-tesla-p4,count=1 \
         "--metadata=ssh-keys=centos:${ssh_str}"  --image=wn-wgpu-v76-us --boot-disk-device-name=it-us-v76-n2 \
         ${common_args}

gcloud beta compute --project=exa-demo instance-templates create it-eu-v76-p4 --machine-type=n1-highmem-2 --accelerator=type=nvidia-tesla-p4,count=1 \
         "--metadata=ssh-keys=centos:${ssh_str}"  --image=wn-wgpu-v76-eu --boot-disk-device-name=it-eu-v76-n2 \
         ${common_args}

gcloud beta compute --project=exa-demo instance-templates create it-ap-v76-p4 --machine-type=n1-highmem-2 --accelerator=type=nvidia-tesla-p4,count=1 \
         "--metadata=ssh-keys=centos:${ssh_str}"  --image=wn-wgpu-v76-ap --boot-disk-device-name=it-ap-v76-n2 \
         ${common_args}

gcloud beta compute --project=exa-demo instance-templates create it-us-v76-t4 --machine-type=n1-highmem-2 --accelerator=type=nvidia-tesla-t4,count=1 \
         "--metadata=ssh-keys=centos:${ssh_str}"  --image=wn-wgpu-v76-us --boot-disk-device-name=it-us-v76-n2 \
         ${common_args}

gcloud beta compute --project=exa-demo instance-templates create it-eu-v76-t4 --machine-type=n1-highmem-2 --accelerator=type=nvidia-tesla-t4,count=1 \
         "--metadata=ssh-keys=centos:${ssh_str}"  --image=wn-wgpu-v76-eu --boot-disk-device-name=it-eu-v76-n2 \
         ${common_args}

gcloud beta compute --project=exa-demo instance-templates create it-ap-v76-t4 --machine-type=n1-highmem-2 --accelerator=type=nvidia-tesla-t4,count=1 \
         "--metadata=ssh-keys=centos:${ssh_str}"  --image=wn-wgpu-v76-ap --boot-disk-device-name=it-ap-v76-n2 \
         ${common_args}

gcloud beta compute --project=exa-demo instance-templates create it-us-v76-p100 --machine-type=n1-highmem-2 --accelerator=type=nvidia-tesla-p100,count=1 \
         "--metadata=ssh-keys=centos:${ssh_str}"  --image=wn-wgpu-v76-us --boot-disk-device-name=it-us-v76-n2 \
         ${common_args}

gcloud beta compute --project=exa-demo instance-templates create it-eu-v76-p100 --machine-type=n1-highmem-2 --accelerator=type=nvidia-tesla-p100,count=1 \
         "--metadata=ssh-keys=centos:${ssh_str}"  --image=wn-wgpu-v76-eu --boot-disk-device-name=it-eu-v76-n2 \
         ${common_args}

gcloud beta compute --project=exa-demo instance-templates create it-ap-v76-p100 --machine-type=n1-highmem-2 --accelerator=type=nvidia-tesla-p100,count=1 \
         "--metadata=ssh-keys=centos:${ssh_str}"  --image=wn-wgpu-v76-ap --boot-disk-device-name=it-ap-v76-n2 \
         ${common_args}

gcloud beta compute --project=exa-demo instance-templates create it-us-v76-v100 --machine-type=n1-highmem-2 --accelerator=type=nvidia-tesla-v100,count=1 \
         "--metadata=ssh-keys=centos:${ssh_str}"  --image=wn-wgpu-v76-us --boot-disk-device-name=it-us-v76-n2 \
         ${common_args}

gcloud beta compute --project=exa-demo instance-templates create it-eu-v76-v100 --machine-type=n1-highmem-2 --accelerator=type=nvidia-tesla-v100,count=1 \
         "--metadata=ssh-keys=centos:${ssh_str}"  --image=wn-wgpu-v76-eu --boot-disk-device-name=it-eu-v76-n2 \
         ${common_args}

gcloud beta compute --project=exa-demo instance-templates create it-ap-v76-v100 --machine-type=n1-highmem-2 --accelerator=type=nvidia-tesla-v100,count=1 \
         "--metadata=ssh-keys=centos:${ssh_str}"  --image=wn-wgpu-v76-ap --boot-disk-device-name=it-ap-v76-n2 \
         ${common_args}

